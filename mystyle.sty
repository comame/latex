% \documentclass[11pt, uplatex]{jsarticle}

\usepackage{float}
\usepackage{multirow}
\usepackage{color}
\usepackage{amsmath}
\usepackage{url}
\usepackage{xcolor}
\usepackage{listings}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{sourcecodepro}
\usepackage{newtxtext,newtxmath}

% 余白
\usepackage[top=20truemm,bottom=20truemm,left=20truemm,right=20truemm]{geometry}

% ページ番号
\usepackage{fancyhdr}
\usepackage{lastpage}
\pagestyle{fancy}
\lhead{} \chead{} \rhead{} \lfoot{} \cfoot{}
\rfoot{\thepage\ / \pageref{LastPage}}
\renewcommand{\headrulewidth}{0pt}

% 式番号をセクションごとに振る
\newcommand{\EquationNumberWithinSection} {
    \numberwithin{equation}{section}
}

% Section Font Size
\usepackage{titlesec}
\titleformat*{\section}{\normalsize\bfseries}
\titleformat*{\subsection}{\normalsize\bfseries}
\titleformat*{\subsubsection}{\normalsize\bfseries}

% コードブロックのスタイル
\lstset{
    basicstyle=\ttfamily\small,
    showstringspaces=false,
    frame={tb},
    xrightmargin=0zw,
    xleftmargin=2zw,
    columns=fixed,
    basewidth=0.5em,
}

% 摘要
% \begin{abstract}
%    ここに摘要
% \end{abstract}
% \clearpage
\renewcommand{\abstractname}{摘　　　　　　　　　　　要}

% コマンド
\newcommand{\Title}[1]{
    \begin{center}
        {\Large #1}
    \end{center}
}
\newcommand{\Center}[1]{
    \begin{center}
        #1
    \end{center}
}
\newcommand{\Right}[1]{
    \begin{flushright}
        #1
    \end{flushright}
}
\newcommand{\U}[1]{
    \mathrm{#1}
}
\newcommand{\E}[1]{
    \times 10^{#1}
}
\newcommand{\hidePageNumber}{
    \addtocounter{page}{-1}
    \thispagestyle{empty}
}
\newcommand{\RefItem}[2]{
    \bibitem{#1} #2
}
\newcommand{\Todo}[1]{
    \PackageWarning{Todo}{Detection #1}
    {\color{red} (TODO #1)}
}
\newcommand{\Code}[1]{
    {\ttfamily\small #1}
}
\newcommand{\Matrix}[1]{
    \begin{pmatrix}
        #1
    \end{pmatrix}
}

% \begin{Table}{l|c|r}{caption}{label}
%    item && item
%    \hline \hline
%    item && item
% \end{Table}
\newenvironment{Table}[3]{
    \begin{table}[H]
    \caption{#2}
    \label{#3}
    \centering
    \begin{tabular}{#1}
}{
    \end{tabular}
    \end{table}
}

\newenvironment{Table*}[1]{
    \begin{table}[H]
    \centering
    \begin{tabular}{#1}
}{
    \end{tabular}
    \end{table}
}

\newsavebox{\scaledtablebox}
\newcommand{\scaledtablefactor}{1}
\newenvironment{ScaledTable}[4]{
    \renewcommand{\scaledtablefactor}{#1}
    \begin{table}[H]
    \centering
    \caption{#3}
    \label{#4}
    \begin{lrbox}{\scaledtablebox}
    \begin{tabular}{#2}
}{
    \end{tabular}
    \end{lrbox}
    \scalebox{\scaledtablefactor}{\usebox{\scaledtablebox}}
    \end{table}
}

\newenvironment{ScaledTable*}[2]{
    \renewcommand{\scaledtablefactor}{#1}
    \begin{table}[H]
    \centering
    \begin{lrbox}{\scaledtablebox}
    \begin{tabular}{#2}
}{
    \end{tabular}
    \end{lrbox}
    \scalebox{\scaledtablefactor}{\usebox{\scaledtablebox}}
    \end{table}
}

% \Figure{filename}{caption}{label}{width}
% \Figure{filename}{width}
\usepackage[dvipdfmx]{graphicx}
\newcommand{\Figure@unstarred}[4]{
    \begin{figure}[H]
        \centering
        \includegraphics[width=#4]{#1}
        \caption{#2}
        \label{#3}
    \end{figure}
}
\newcommand{\Figure@starred}[2]{
    \begin{figure}[H]
        \centering
        \includegraphics[width=#2]{#1}
    \end{figure}
}
\newcommand{\Figure}{\@ifstar{\Figure@starred}{\Figure@unstarred}}

% \begin{Refs}
%     \RefItem{label}{reference}
% \end{Refs}
\renewcommand{\refname}{}
\newenvironment{Refs}{
    \begin{thebibliography}{99}
}{
    \end{thebibliography}
}
